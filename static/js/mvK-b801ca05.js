import{r as e,x as t,j as n}from"./jH6-bd9b654c.js";import{w as o,c as a,g as c,b as i,x as u,y as r}from"./wuV1FhF-24c12a21.js";import{o as s,a as l}from"./dbX06-f0c9a243.js";function d(n){const a=e(!!n.value);if(a.value)return t(a);const c=o(n,(e=>{e&&(a.value=!0,c())}));return t(a)}function f(t){const n=a(t),c=e(n.value);return o(n,(e=>{c.value=e})),"function"==typeof t?c:{__v_isRef:!0,get value(){return c.value},set value(e){t.set(e)}}}function v(){return null!==c()}const m="undefined"!=typeof window;let w,h;var k,p;function y(e){if(h)return;let t=!1;i((()=>{h||null==w||w.then((()=>{t||e()}))})),u((()=>{t=!0}))}w=m?null===(p=null===(k=document)||void 0===k?void 0:k.fonts)||void 0===p?void 0:p.ready:void 0,h=!1,void 0!==w?w.then((()=>{h=!0})):h=!0;const b=e(null);function g(e){if(e.clientX>0||e.clientY>0)b.value={x:e.clientX,y:e.clientY};else{const{target:t}=e;if(t instanceof Element){const{left:e,top:n,width:o,height:a}=t.getBoundingClientRect();b.value=e>0||n>0?{x:e+o/2,y:n+a/2}:{x:0,y:0}}else b.value=null}}let x=0,E=!0;function j(){if(!m)return t(e(null));0===x&&s("click",document,g,!0);const n=()=>{x+=1};return E&&(E=v())?(r(n),u((()=>{x-=1,0===x&&l("click",document,g,!0)}))):n(),t(b)}const M=e(void 0);let P=0;function S(){M.value=Date.now()}let T=!0;function L(n){if(!m)return t(e(!1));const o=e(!1);let a=null;function c(){null!==a&&window.clearTimeout(a)}function i(){c(),o.value=!0,a=window.setTimeout((()=>{o.value=!1}),n)}0===P&&s("click",window,S,!0);const d=()=>{P+=1,s("click",window,i,!0)};return T&&(T=v())?(r(d),u((()=>{P-=1,0===P&&l("click",window,S,!0),l("click",window,i,!0),c()}))):d(),t(o)}function C(e,t){return o(e,(e=>{void 0!==e&&(t.value=e)})),a((()=>void 0===e.value?t.value:e.value))}function D(){const n=e(!1);return i((()=>{n.value=!0})),t(n)}function O(e,t){return a((()=>{for(const n of t)if(void 0!==e[n])return e[n];return e[t[t.length-1]]}))}const X="undefined"!=typeof window&&(/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!window.MSStream;function _(){return X}const q={xs:0,s:640,m:1024,l:1280,xl:1536,"2xl":1920};const F={};function R(t=q){if(!m)return a((()=>[]));if("function"!=typeof window.matchMedia)return a((()=>[]));const n=e({}),o=Object.keys(t),c=(e,t)=>{e.matches?n.value[t]=!0:n.value[t]=!1};return o.forEach((e=>{const n=t[e];let o,a;void 0===F[n]?(o=window.matchMedia(`(min-width: ${n}px)`),o.addEventListener?o.addEventListener("change",(t=>{a.forEach((n=>{n(t,e)}))})):o.addListener&&o.addListener((t=>{a.forEach((n=>{n(t,e)}))})),a=new Set,F[n]={mql:o,cbs:a}):(o=F[n].mql,a=F[n].cbs),a.add(c),o.matches&&a.forEach((t=>{t(o,e)}))})),u((()=>{o.forEach((e=>{const{cbs:n}=F[t[e]];n.has(c)&&n.delete(c)}))})),a((()=>{const{value:e}=n;return o.filter((t=>e[t]))}))}function Y(e={},a){const c=n({ctrl:!1,command:!1,win:!1,shift:!1,tab:!1}),{keydown:i,keyup:d}=e,f=e=>{switch(e.key){case"Control":c.ctrl=!0;break;case"Meta":c.command=!0,c.win=!0;break;case"Shift":c.shift=!0;break;case"Tab":c.tab=!0}void 0!==i&&Object.keys(i).forEach((t=>{if(t!==e.key)return;const n=i[t];if("function"==typeof n)n(e);else{const{stop:t=!1,prevent:o=!1}=n;t&&e.stopPropagation(),o&&e.preventDefault(),n.handler(e)}}))},m=e=>{switch(e.key){case"Control":c.ctrl=!1;break;case"Meta":c.command=!1,c.win=!1;break;case"Shift":c.shift=!1;break;case"Tab":c.tab=!1}void 0!==d&&Object.keys(d).forEach((t=>{if(t!==e.key)return;const n=d[t];if("function"==typeof n)n(e);else{const{stop:t=!1,prevent:o=!1}=n;t&&e.stopPropagation(),o&&e.preventDefault(),n.handler(e)}}))},w=()=>{(void 0===a||a.value)&&(s("keydown",document,f),s("keyup",document,m)),void 0!==a&&o(a,(e=>{e?(s("keydown",document,f),s("keyup",document,m)):(l("keydown",document,f),l("keyup",document,m))}))};return v()?(r(w),u((()=>{(void 0===a||a.value)&&(l("keydown",document,f),l("keyup",document,m))}))):w(),t(c)}export{_ as a,C as b,O as c,d,Y as e,L as f,j as g,R as h,D as i,y as o,f as u};
